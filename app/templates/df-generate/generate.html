{% extends "base.html" %}

{% block content %}

<script src="static/js/camera.js"></script>
<script src="static/js/generate.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/generate.css') }}">

<div class="content">
    <!-- <div class="user__camera">
        <video id="cameraFeed" autoplay></video>
        <img id="placeholderImage" src="{{ url_for('static', filename='images/camera-off-icon.png') }}" alt="Camera Off">
    </div> -->

    <div class="user__camera">
        <img id="deepfakeImage" src="" alt="Deepfake Image" style="display:none; position:absolute; width:100%; height:100%; object-fit:cover; border-radius: 15px;">
        <video id="cameraFeed" autoplay></video>
        <!-- <img id="placeholderImage" src="{{ url_for('static', filename='images/camera-off-icon.png') }}" alt="Camera Off"> -->
    </div>

    <div id="fpsDisplay" style="font-size: 56px; color: #000000; position: absolute; top: 10px; left: 10px; z-index: 1000;"></div>

    <div class="control__panel">
        <div class="control__panel-left">
            <button class="control__panel-generate">Generate Deepfake</button>
            <div class="collapsible-section">
                <button class="control__panel-info" onclick="toggleCollapse('parametersInfo')">Parameters</button>
                <div class="collapsible-content" id="parametersInfo">
                    <p>Waiting for data...</p>
                </div>
            </div>
        </div>
    
        <div class="control__panel-right">
            <!-- Upload Source Button & Collapsible -->
            <div class="upload-section">
                <button class="control__panel-upload" id="uploadSourceBtn">Upload Source</button>
                <input type="file" id="sourceImageUpload" accept="image/*" multiple hidden>
                <div class="collapsible-content" id="sourceImageContainer">
                    <div class="video-grid-wrapper">
                        <div class="video-grid" id="sourceImageGrid">
                            <!-- Videos will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Upload Destination Button & Collapsible -->
            <div class="upload-section">
                <button class="control__panel-upload" id="uploadSourceBtn" onclick="toggleCamera()" >Toggle Camera</button>
                
            </div>
        </div>
    </div>
    
</div>
{% endblock content %}

